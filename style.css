:root{
  --bg:#0b1f33;
  --bg2:#0f2740;
  --panel:#142b47;
  --accent:#2aa3ff;
  --accent-2:#4be3c2;
  --text:#e7f3ff;
  --muted:#a9c2d9;
  --danger:#ff5f6d;
  --ok:#18c67a;
  --tile:#163352;
  --tile-alt:#184060;
  --tile-border:#25619a;
  --token:#ffd166;
  --shadow:0 8px 20px rgba(0,0,0,0.25);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:linear-gradient(180deg,var(--bg),var(--bg2));
  color:var(--text);
}

.app-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 16px;
  background:rgba(20,43,71,0.8);
  backdrop-filter:saturate(110%) blur(6px);
  position:sticky; top:0; z-index:10; border-bottom:1px solid #123;
}
.brand{display:flex; align-items:center; gap:12px}
.logo{font-size:28px}
.title-wrap h1{margin:0; font-size:20px}
.subtitle{margin:2px 0 0; font-size:12px; color:var(--muted)}

.top-nav{display:flex; gap:8px}
.nav-btn{
  background:transparent; border:1px solid #2a4a72; color:var(--text);
  padding:8px 12px; border-radius:8px; cursor:pointer;
}
.nav-btn:hover{border-color:var(--accent)}

.screen{display:none; padding:24px}
.screen.active{display:block}
.screen-inner{
  max-width:1000px; margin:0 auto; background:rgba(20,43,71,0.5);
  border:1px solid #123; border-radius:16px; padding:24px; box-shadow:var(--shadow);
}

.feature-list{list-style:disc; padding-left:20px}
.feature-list li{margin:6px 0}

.steps{padding-left:20px}
.steps li{margin:6px 0}

.cta-row{display:flex; gap:12px; margin-top:12px}
.primary, .secondary{
  border-radius:10px; padding:10px 16px; cursor:pointer; border:0; transition:.15s ease-in-out;
}
.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#001b2e; font-weight:700}
.primary:hover{filter:brightness(1.1)}
.secondary{background:#1a3656; color:var(--text)}
.secondary:hover{filter:brightness(1.1)}
.small{padding:6px 10px; font-size:13px}

.hud{
  width:min(92%, 420px);
  display:flex;
  flex-direction:column;
  gap:12px;
  background:#ffffffcc;
  backdrop-filter:saturate(135%) blur(2px);
  border:1px solid var(--ring);
  border-radius:14px;
  padding:14px;
  box-shadow:0 8px 28px rgba(0,0,0,0.15);
  pointer-events:auto;
  transform:translateY(-3cm); /* Move the box up by 3 cm */
}
.pill{
  display:inline-block; padding:6px 10px; border-radius:999px;
  background:#163a5d; border:1px solid #234c78; color:var(--text); margin-right:6px;
}

.board-wrap{
  position:relative; width:min(720px, 90vw); margin:0 auto 16px; aspect-ratio:1/1;
  background:radial-gradient(ellipse at center, #0c2137 30%, #0f2740 100%);
  border:1px solid #1c3d61; border-radius:18px; box-shadow:var(--shadow);
}
.board{
  position:absolute; inset:16px; border-radius:16px; border:2px solid var(--tile-border);
}
.tile{
  position:absolute; width:86px; height:86px; background:var(--tile);
  border:1px solid #20507c; border-radius:12px; padding:6px; display:flex; flex-direction:column;
  justify-content:space-between; transition:.2s;
}
.tile:nth-child(even){background:var(--tile-alt)}
.tile .name{font-size:12px; color:#cfe9ff; font-weight:700}
.tile .index{font-size:10px; color:var(--muted)}
.tile.active{outline:3px solid var(--accent-2)}
.tile .icon{font-size:18px}

.token{
  position:absolute; width:28px; height:28px; border-radius:50%;
  background:var(--token); border:2px solid #8c6d1f; box-shadow:0 4px 10px rgba(0,0,0,.35);
  transform:translate(-50%,-50%); transition:transform .25s ease;
}

.controls{
  display:flex; align-items:center; justify-content:center; gap:12px; margin:12px 0;
}
.dice{
  width:64px; height:64px; border-radius:12px; background:#183a5c; border:1px solid #265e93;
  display:flex; align-items:center; justify-content:center; font-size:32px; box-shadow:var(--shadow);
  transform-style:preserve-3d;
}
.dice.rolling{animation:roll 700ms cubic-bezier(.2,.6,.2,1) infinite}
@keyframes roll{
  0%{transform:rotateX(0) rotateY(0)}
  25%{transform:rotateX(90deg) rotateY(0)}
  50%{transform:rotateX(90deg) rotateY(90deg)}
  75%{transform:rotateX(180deg) rotateY(90deg)}
  100%{transform:rotateX(360deg) rotateY(360deg)}
}

.progress{max-width:720px; margin:0 auto}
.progress-bar{
  width:100%; height:14px; border-radius:999px; background:#123a5d; border:1px solid #21517f;
  overflow:hidden; margin-bottom:8px;
}
.progress-fill{height:100%; background:linear-gradient(90deg,var(--accent),var(--accent-2)); transition:width .3s}

.flag-area{
  min-height:28px; display:flex; align-items:center; justify-content:center;
  color:#cfe9ff; font-weight:600; letter-spacing:.4px;
}
.flag-hidden{color:var(--muted); font-style:italic}

.log{
  max-width:720px; margin:12px auto 0; background:#102a45; border:1px solid #1e4a75; border-radius:12px;
  padding:12px; min-height:60px; font-size:14px; color:#cfe9ff;
}

.modal{
  position:fixed; inset:0; background:rgba(0,0,0,0.45);
  display:none; align-items:center; justify-content:center; padding:18px; z-index:20;
}
.modal.show{display:flex}
.modal-card{
  width:min(640px, 95vw); background:#122d4b; border:1px solid #1e4a75;
  border-radius:16px; box-shadow:var(--shadow); overflow:hidden;
}
.modal-header{
  display:flex; align-items:center; justify-content:space-between; padding:12px 16px; background:#15375c;
}
.modal-header h3{margin:0}
.icon-btn{background:transparent; border:0; color:var(--text); font-size:20px; cursor:pointer}
.modal-body{padding:16px}
.fact{margin-top:0; color:#cfe9ff}
.quiz-q{font-weight:700}
.quiz-options{display:grid; gap:8px; grid-template-columns:1fr}
.quiz-options button{
  background:#164164; border:1px solid #255d8c; color:var(--text);
  padding:10px; border-radius:10px; cursor:pointer; text-align:left;
}
.quiz-options button:hover{filter:brightness(1.1)}
.modal-result{min-height:22px; margin-top:8px; font-weight:700}
.modal-footer{padding:12px 16px; display:flex; justify-content:flex-end; background:#15375c}

.app-footer{
  text-align:center; padding:12px; color:var(--muted)
}

/* Responsive tweaks */
@media (max-width:600px){
  .tile{width:72px; height:72px}
}
